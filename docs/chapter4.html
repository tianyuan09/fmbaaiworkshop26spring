<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; Build Applications with LLMs and AI Feature – FMBA AI Workshop Jan 2026</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./chapter5.html" rel="next">
<link href="./chapter3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-065a5179aebd64318d7ea99d77b64a9e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-389dc5fa432510b2a365d7aa80defd6f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./chapter4.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Build Applications with LLMs and AI Feature</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">FMBA AI Workshop Jan 2026</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">AI Tools for Coding</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">What is Vibe Coding</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Labs: Minimal Technical Skills Required</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prototyping an app with <code>streamlit</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Build Applications with LLMs and AI Feature</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab - Business Metrics Practice (optional)</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#review-the-difference-of-api-vs.-chat-in-ai-tools" id="toc-review-the-difference-of-api-vs.-chat-in-ai-tools" class="nav-link active" data-scroll-target="#review-the-difference-of-api-vs.-chat-in-ai-tools"><span class="header-section-number">5.1</span> Review the Difference of API vs.&nbsp;Chat in AI Tools</a></li>
  <li><a href="#lab-1-enhance-your-app-with-llm-powered-interpretation" id="toc-lab-1-enhance-your-app-with-llm-powered-interpretation" class="nav-link" data-scroll-target="#lab-1-enhance-your-app-with-llm-powered-interpretation"><span class="header-section-number">5.2</span> Lab 1: Enhance Your App with LLM-Powered Interpretation</a>
  <ul class="collapse">
  <li><a href="#get-started-with-gemini-api" id="toc-get-started-with-gemini-api" class="nav-link" data-scroll-target="#get-started-with-gemini-api"><span class="header-section-number">5.2.1</span> Get Started with Gemini API</a></li>
  <li><a href="#create-your-google-gemini-api-key" id="toc-create-your-google-gemini-api-key" class="nav-link" data-scroll-target="#create-your-google-gemini-api-key"><span class="header-section-number">5.2.2</span> Create your Google Gemini API Key</a></li>
  <li><a href="#lab-run-a-simple-gemini-use-case" id="toc-lab-run-a-simple-gemini-use-case" class="nav-link" data-scroll-target="#lab-run-a-simple-gemini-use-case"><span class="header-section-number">5.2.3</span> Lab: Run A Simple Gemini Use Case</a></li>
  <li><a href="#prompt-engineering" id="toc-prompt-engineering" class="nav-link" data-scroll-target="#prompt-engineering"><span class="header-section-number">5.2.4</span> Prompt engineering</a></li>
  <li><a href="#bad-vs-good-prompts" id="toc-bad-vs-good-prompts" class="nav-link" data-scroll-target="#bad-vs-good-prompts"><span class="header-section-number">5.2.5</span> Bad vs Good Prompts</a></li>
  <li><a href="#lab-design-a-value-adding-ai-prompt-for-your-dashboard" id="toc-lab-design-a-value-adding-ai-prompt-for-your-dashboard" class="nav-link" data-scroll-target="#lab-design-a-value-adding-ai-prompt-for-your-dashboard"><span class="header-section-number">5.2.6</span> Lab: Design a Value-Adding AI Prompt for Your Dashboard</a></li>
  </ul></li>
  <li><a href="#lab-2-add-an-ai-agent-to-your-dashboard-optional" id="toc-lab-2-add-an-ai-agent-to-your-dashboard-optional" class="nav-link" data-scroll-target="#lab-2-add-an-ai-agent-to-your-dashboard-optional"><span class="header-section-number">5.3</span> Lab 2: Add an AI Agent to your Dashboard (optional)</a>
  <ul class="collapse">
  <li><a href="#what-is-an-ai-agent" id="toc-what-is-an-ai-agent" class="nav-link" data-scroll-target="#what-is-an-ai-agent"><span class="header-section-number">5.3.1</span> What Is an AI Agent?</a></li>
  <li><a href="#difference-between-an-llm-and-an-ai-agent" id="toc-difference-between-an-llm-and-an-ai-agent" class="nav-link" data-scroll-target="#difference-between-an-llm-and-an-ai-agent"><span class="header-section-number">5.3.2</span> 5.3.2 Difference Between an LLM and an AI Agent</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Build Applications with LLMs and AI Feature</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="review-the-difference-of-api-vs.-chat-in-ai-tools" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="review-the-difference-of-api-vs.-chat-in-ai-tools"><span class="header-section-number">5.1</span> Review the Difference of API vs.&nbsp;Chat in AI Tools</h2>
<p>Many of you have already used <strong>AI chat tools</strong> like <strong>ChatGPT</strong> or <strong>Gemini Chat</strong> to ask questions, write code snippets, or brainstorm ideas. That’s the <em>user</em> experience — you’re communicating with the model to get answers.</p>
<p>But when you start using <strong>LLMs and AI agents for development</strong>, the perspective changes completely. Instead of <em>talking to</em> the AI, you’re now <em>building with</em> it. You’re no longer just a user — you become a <strong>developer who leverages the model’s power through APIs</strong> to create tools, automate workflows, or build intelligent apps for others to use.</p>
<p>The table below compares OpenAI’s ChatGPT and Google’s Gemini platforms, highlighting the difference between their APIs (used by developers to build applications) and their chat interfaces (used by end users to interact with the models).</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 26%">
<col style="width: 23%">
<col style="width: 23%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Aspect</th>
<th><strong>OpenAI API</strong></th>
<th><strong>ChatGPT (OpenAI)</strong></th>
<th><strong>Gemini API</strong></th>
<th><strong>Gemini Chat</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Type</strong></td>
<td>Developer API</td>
<td>Chat Interface</td>
<td>Developer API</td>
<td>Chat Interface</td>
</tr>
<tr class="even">
<td><strong>Purpose</strong></td>
<td>Build apps or tools using GPT models (e.g., GPT-4).</td>
<td>Chat directly with GPT models for writing, coding, or learning.</td>
<td>Build apps or workflows using Gemini models.</td>
<td>Chat naturally with Gemini for assistance or ideas.</td>
</tr>
<tr class="odd">
<td><strong>How It’s Used</strong></td>
<td>Through code (Python, JS, etc.).</td>
<td>Through a chat interface (web or app).</td>
<td>Through code (Google AI Studio or Vertex AI).</td>
<td>Through chat (Gemini web app, Workspace integration).</td>
</tr>
<tr class="even">
<td><strong>Users</strong></td>
<td>Developers, researchers.</td>
<td>General users, educators, professionals.</td>
<td>Developers, data teams.</td>
<td>Students, creators, general users.</td>
</tr>
<tr class="odd">
<td><strong>Example Use</strong></td>
<td>A developer calls GPT-4 via API to generate summaries or analyze data.</td>
<td>You ask “Explain this regression code.”</td>
<td>A data app uses Gemini API to summarize Google Sheets data.</td>
<td>You ask Gemini, “Visualize this dataset for me.”</td>
</tr>
<tr class="even">
<td><strong>Output Control</strong></td>
<td>Fully customizable — responses formatted via code.</td>
<td>Natural text output in chat.</td>
<td>Fully customizable — can return text, JSON, or structured data.</td>
<td>Conversational responses, plain text or visuals.</td>
</tr>
<tr class="odd">
<td><strong>Goal</strong></td>
<td><strong>Build with the model.</strong></td>
<td><strong>Talk to the model.</strong></td>
<td><strong>Build with the model.</strong></td>
<td><strong>Talk to the model.</strong></td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span><strong>Summary</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>APIs are for developers</strong> — you use them to build apps with AI features for the end users.</li>
<li><strong>Chat tools are for the end users</strong> — you chat with the model to get answers.</li>
<li>OpenAI powers ChatGPT; Google powers Gemini; different ecosystems.</li>
</ul>
</div>
</div>
</section>
<section id="lab-1-enhance-your-app-with-llm-powered-interpretation" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="lab-1-enhance-your-app-with-llm-powered-interpretation"><span class="header-section-number">5.2</span> Lab 1: Enhance Your App with LLM-Powered Interpretation</h2>
<p>In this lab, you will continue building your financial dashboard by integrating AI features with Google Gemini API.</p>
<section id="get-started-with-gemini-api" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="get-started-with-gemini-api"><span class="header-section-number">5.2.1</span> Get Started with Gemini API</h3>
<p>Please sign in to Google AI Studio using your Google account <a href="https://ai.google.dev/aistudio" class="uri">https://ai.google.dev/aistudio</a>.</p>
</section>
<section id="create-your-google-gemini-api-key" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="create-your-google-gemini-api-key"><span class="header-section-number">5.2.2</span> Create your Google Gemini API Key</h3>
<p>Google has a free tier for the Gemini API that provides limited usage for development and experimentation.</p>
<p>You can obtain a free API key using your Google account:</p>
<ul>
<li><a href="https://aistudio.google.com/api-keys" class="uri">https://aistudio.google.com/api-keys</a></li>
</ul>
<p><img src="images/geminikey.png" class="img-fluid"></p>
<p>Please <strong>delete your key if not in use</strong>. Keep it secure, and <strong>never share or publish your key</strong>.</p>
</section>
<section id="lab-run-a-simple-gemini-use-case" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="lab-run-a-simple-gemini-use-case"><span class="header-section-number">5.2.3</span> Lab: Run A Simple Gemini Use Case</h3>
<p>Check out the page &lt;<a href="https://aistudio.google.com/app/" class="uri">https://aistudio.google.com/app/</a>&gt; for a simple use case of how to use Gemini API with Python (see the code example below)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get started with Gemini using Python</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You can find the code from Google AI Studio</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google <span class="im">import</span> genai</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># modify this line of code with your own api</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> genai.Client()</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> client.models.generate_content(</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    model<span class="op">=</span><span class="st">"gemini-3-flash-preview"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    contents<span class="op">=</span><span class="st">"Explain how AI works in a few words"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.text)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Create a Colab notebook (e.g., <code>gemini.ipynb</code>) and copy the sample code above. Then modidy the following line with your <code>api_key</code> to run the sample code.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># modify this line of code in the previous code section.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> genai.Client(api_key<span class="op">=</span><span class="st">"your_actual_api_key_here"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul class="task-list">
<li><label><input type="checkbox">I successfully tested the Gemini Use Case.</label></li>
</ul>
</section>
<section id="prompt-engineering" class="level3" data-number="5.2.4">
<h3 data-number="5.2.4" class="anchored" data-anchor-id="prompt-engineering"><span class="header-section-number">5.2.4</span> Prompt engineering</h3>
<p>A <strong>prompt</strong> is the input text or query given to a generative AI model to instruct it on what to do.</p>
<blockquote class="blockquote">
<p>e.g., <em>“Write a Python function to calculate the average of a list.”</em></p>
</blockquote>
<p>In simple terms, <strong>prompt engineering</strong> is about communicating effectively with AI. It’s the skill of writing prompts so the large language models (LLMs) understands your <strong>intent, context, and background</strong>, and can respond accurately and usefully.</p>
<p>In other words:</p>
<blockquote class="blockquote">
<p>Prompt engineering = communication skills with LLMs.</p>
</blockquote>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can explore prompt ideas for the Gemini API in Google AI studio. <a href="https://ai.google.dev/gemini-api/prompts" class="uri">https://ai.google.dev/gemini-api/prompts</a></p>
</div>
</div>
</section>
<section id="bad-vs-good-prompts" class="level3" data-number="5.2.5">
<h3 data-number="5.2.5" class="anchored" data-anchor-id="bad-vs-good-prompts"><span class="header-section-number">5.2.5</span> Bad vs Good Prompts</h3>
<p>Here is a number of examples showing how vague prompts differs from well-engineered ones. AI can understand and act only as well as you communicate.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 37%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Task</strong></th>
<th><strong>Bad Prompt</strong></th>
<th><strong>Good Prompt</strong></th>
<th><strong>Why It’s Better</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Ask for code</strong></td>
<td>“Write some Python code for data.”</td>
<td>“Write a Python function using <code>pandas</code> to read a CSV file, clean missing values, and calculate the average of each column.”</td>
<td>Gives <strong>clear context</strong>, <strong>specific goal</strong>, and <strong>tools</strong> to use.</td>
</tr>
<tr class="even">
<td><strong>Explain concept</strong></td>
<td>“Explain machine learning.”</td>
<td>“Explain what machine learning is <strong>for a high school student</strong> using <strong>everyday examples</strong>.”</td>
<td>Specifies <strong>audience</strong> and <strong>tone</strong>, making the response more focused.</td>
</tr>
<tr class="odd">
<td><strong>Generate text</strong></td>
<td>“Write about climate change.”</td>
<td>“Write a 3-paragraph summary of climate change causes and impacts, suitable for a classroom presentation.”</td>
<td>Defines <strong>length</strong>, <strong>scope</strong>, and <strong>audience</strong>.</td>
</tr>
<tr class="even">
<td><strong>Data science task</strong></td>
<td>“Analyze this dataset.”</td>
<td>“Analyze this dataset to find the top 5 products by sales, and visualize the trend over time using matplotlib.”</td>
<td>Specifies the <strong>goal</strong>, <strong>method</strong>, and <strong>output format</strong>.</td>
</tr>
</tbody>
</table>
</section>
<section id="lab-design-a-value-adding-ai-prompt-for-your-dashboard" class="level3" data-number="5.2.6">
<h3 data-number="5.2.6" class="anchored" data-anchor-id="lab-design-a-value-adding-ai-prompt-for-your-dashboard"><span class="header-section-number">5.2.6</span> Lab: Design a Value-Adding AI Prompt for Your Dashboard</h3>
<p>Your financial metrics dashboard already allows users to select tickers and view several metrics. Now, your goal is to design a prompt that integrates a LLM from Gemini to provide AI-generated insights that add value for the users of the dashboard.</p>
<ul class="task-list">
<li><p><label><input type="checkbox">Design your prompt with clear intent and context.<br>
</label></p></li>
<li><p><label><input type="checkbox">The prompt should generate something useful for the dashboard user.</label></p></li>
<li><p><label><input type="checkbox">Integrate your prompt into your streamlit app. You can build on the simple use case you successfully tested earlier and try integrating it into your streamlit app using Copilot.</label></p></li>
<li><p><label><input type="checkbox">Test your prompt in the dashboard to ensure it gives clear, relevant, and user-friendly outputs.</label></p></li>
</ul>
</section>
</section>
<section id="lab-2-add-an-ai-agent-to-your-dashboard-optional" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="lab-2-add-an-ai-agent-to-your-dashboard-optional"><span class="header-section-number">5.3</span> Lab 2: Add an AI Agent to your Dashboard (optional)</h2>
<section id="what-is-an-ai-agent" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="what-is-an-ai-agent"><span class="header-section-number">5.3.1</span> What Is an AI Agent?</h3>
<p>An AI Agent is a system that uses an AI model—often a Large Language Model (LLM)—to <strong>reason, decide, and take actions</strong> toward a goal. Instead of just producing text, an agent can plan what to do next, <strong>call external tools (like APIs or databases)</strong>, and <strong>use the results to continue reasoning</strong>. In other words, it’s <strong>not just “answering questions,” it’s doing things</strong>.</p>
<p>Think of an AI agent as an intelligent assistant that:</p>
<ul>
<li>Understands your goal (through natural language),</li>
<li>Decides what steps to take,</li>
<li>Executes tools or code to gather information or perform tasks,</li>
<li>Reflects on results, and produces a final answer or output.</li>
</ul>
</section>
<section id="difference-between-an-llm-and-an-ai-agent" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="difference-between-an-llm-and-an-ai-agent"><span class="header-section-number">5.3.2</span> 5.3.2 Difference Between an LLM and an AI Agent</h3>
<p>A <strong>Large Language Model (LLM)</strong> (such as GPT-4o, Gemini, or Claude) is fundamentally a <strong>language reasoning engine</strong>. It is trained on massive amounts of text to understand, generate, and reason with language.</p>
<p>On its own, an LLM operates only on the information provided in its input and what it learned during training. While modern models are far more capable than earlier ones, they <strong>do not inherently have awareness of the live world</strong> unless they are explicitly connected to external tools or data sources.</p>
<p>Historically, this limitation was described using <em>knowledge cutoff dates</em> (the point in time up to which the model was trained). While these still exist, they are <strong>less important today</strong> because many LLMs can now access real-time information <em>when tools are enabled</em>.</p>
<p>Examples of approximate training cutoffs (for context only):</p>
<ul>
<li><strong>GPT-4</strong> (OpenAI): ~April 2023<br>
</li>
<li><strong>GPT-4o</strong> (OpenAI): ~October 2023<br>
</li>
<li><strong>Gemini 2.0 Flash</strong> (Google DeepMind): ~August 2024<br>
</li>
<li><strong>Claude 3.5 Sonnet</strong> (Anthropic): ~April 2024</li>
</ul>
<section id="key-distinction" class="level4" data-number="5.3.2.1">
<h4 data-number="5.3.2.1" class="anchored" data-anchor-id="key-distinction"><span class="header-section-number">5.3.2.1</span> Key Distinction</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 48%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th>Concept</th>
<th>What It Does</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>LLM</strong></td>
<td>Understands and generates text</td>
<td>Answer “What is artificial intelligence?”</td>
</tr>
<tr class="even">
<td><strong>AI Agent</strong></td>
<td>Uses an LLM <em>plus tools and actions</em> to achieve goals</td>
<td>Fetch recent AAPL news, analyze trends, and summarize insights</td>
</tr>
</tbody>
</table>
<p>An <strong>LLM alone</strong> cannot:</p>
<ul>
<li>Fetch live news<br>
</li>
<li>Query external APIs<br>
</li>
<li>Execute code<br>
</li>
<li>Interact with apps or systems</li>
</ul>
<p>It can only reason over text it receives.</p>
<p>An <strong>AI Agent</strong>, on the other hand, wraps an LLM with:</p>
<ul>
<li>Tool access (browsers, APIs, databases, code execution)</li>
<li>Decision-making logic (when and how to use tools)</li>
<li>Multi-step planning and task execution</li>
</ul>
</section>
<section id="modern-perspective-agentic-llms" class="level4" data-number="5.3.2.2">
<h4 data-number="5.3.2.2" class="anchored" data-anchor-id="modern-perspective-agentic-llms"><span class="header-section-number">5.3.2.2</span> Modern Perspective: “Agentic” LLMs</h4>
<p>Today, many LLMs are described as <strong>agentic</strong>. This does <em>not</em> mean the model itself is an agent, but that it is designed to:</p>
<ul>
<li>Decide when to call external tools</li>
<li>Retrieve real-time information</li>
<li>Execute code or workflows</li>
<li>Break complex tasks into multiple steps and act on them</li>
</ul>
<p>In short:</p>
<ul>
<li><strong>LLM = reasoning engine</strong></li>
<li><strong>AI Agent = reasoning engine + tools + actions + goals</strong></li>
</ul>
<p>This distinction is crucial when designing real-world AI systems that need to do more than just generate text.</p>
<p>In this mini exercise, you’ll see how an mini AI agent can make simple decisions before taking action. The agent will use an LLM to reason about the company’s sector — if the selected ticker belongs to an IT or technology company, the model will decide to <strong>fetch the latest news</strong> using <code>yfiance</code> tools. Otherwise, it will decide to do nothing and respond that no action is needed. This simple logic from checks, decides, acts or not, illustrates how agents can combine reasoning and tool use to behave intelligently, even in small, rule-based workflows.</p>
<p>You can use the following code as an example for one-shot prompting to make your AI feature <strong><em>agentic</em></strong> (LLM + tool usage to fetch real-time news).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>One-shot prompting
</div>
</div>
<div class="callout-body-container callout-body">
<p>One-shot prompting is a prompt engineering technique where you show the model a single example (input + desired output) so it learns the pattern before handling your task. It is useful when you want the model to mimic a format or style with minimal guidance.</p>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mini_agent_two_actions.py</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install yfinance google-genai</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># you may test run it in Colab to start</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># then revise and consider embed it in your streamlit app.</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os, json, yfinance <span class="im">as</span> yf</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google <span class="im">import</span> genai</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>client <span class="op">=</span> genai.Client(api_key<span class="op">=</span><span class="st">"your--google--api"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>MODEL <span class="op">=</span> <span class="st">"gemini-2.5-flash"</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fetch_news(ticker: <span class="bu">str</span>, limit: <span class="bu">int</span> <span class="op">=</span> <span class="dv">5</span>):</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Tool: get latest news for a ticker using yfinance."""</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        news <span class="op">=</span> yf.Ticker(ticker).news <span class="kw">or</span> []</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span>:</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        news <span class="op">=</span> []</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    items <span class="op">=</span> []</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> n <span class="kw">in</span> news[:limit]:</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        item_data <span class="op">=</span> {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">"title"</span>: n.get(<span class="st">"content"</span>, {}).get(<span class="st">"title"</span>),</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">"link"</span>: n.get(<span class="st">"content"</span>, {}).get(<span class="st">"clickThroughUrl"</span>),</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Filter out entries with no title and link</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> item_data.get(<span class="st">"title"</span>) <span class="kw">and</span> item_data.get(<span class="st">"link"</span>):</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>          items.append(item_data)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(items) <span class="co"># Keep print for debugging as in original code</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> items</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> decide_action(ticker: <span class="bu">str</span>):</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="ss">f"""</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="ss">You can take ONE of two actions for a given stock ticker.</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="ss">1. fetch_news — if the ticker belongs to an IT or technology company</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="ss">   (e.g., AAPL, MSFT, GOOG, META, NVDA, AMZN, etc.)</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="ss">2. none — for any other sector or if you're unsure.</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="ss">Return STRICT JSON only:</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="ch">{{</span><span class="ss">"action": "fetch_news" | "none", "args": </span><span class="ch">{{</span><span class="ss">"ticker": "&lt;T&gt;", "limit": &lt;int&gt;</span><span class="ch">}}}}</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="ss">Use ticker="</span><span class="sc">{</span>ticker<span class="sc">}</span><span class="ss">".</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="ss">"""</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    resp <span class="op">=</span> client.models.generate_content(</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>MODEL,</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>        contents<span class="op">=</span>prompt,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>        config<span class="op">=</span>{<span class="st">"response_mime_type"</span>:<span class="st">"application/json"</span>}</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> json.loads(resp.text)</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> final_answer(ticker: <span class="bu">str</span>, action: <span class="bu">str</span>, items<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">"none"</span>:</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"The ticker **</span><span class="sc">{</span>ticker<span class="sc">}</span><span class="ss">** is not in the IT sector — no action taken."</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="ss">f"""</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="ss">Summarize the latest news for </span><span class="sc">{</span>ticker<span class="sc">}</span><span class="ss"> using ONLY this JSON list:</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="sc">{</span>json<span class="sc">.</span>dumps(items, indent<span class="op">=</span><span class="dv">2</span>)<span class="sc">}</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a><span class="ss">Return short markdown:</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="ss">- 2–3 key insights</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="ss">- One-line sentiment (Positive/Neutral/Negative)</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="ss">- Sources as bullet links: [Publisher — Title](URL)</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="ss">"""</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>    resp <span class="op">=</span> client.models.generate_content(</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>        model<span class="op">=</span>MODEL,</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>        contents<span class="op">=</span>prompt,</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>        config<span class="op">=</span>{<span class="st">"response_mime_type"</span>: <span class="st">"text/plain"</span>}</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> resp.text</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run(ticker<span class="op">=</span><span class="st">"AAPL"</span>):</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>    plan <span class="op">=</span> decide_action(ticker)</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>    action <span class="op">=</span> plan.get(<span class="st">"action"</span>, <span class="st">"none"</span>)</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    args <span class="op">=</span> plan.get(<span class="st">"args"</span>, {})</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> action <span class="op">==</span> <span class="st">"fetch_news"</span>:</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>        items <span class="op">=</span> fetch_news(args.get(<span class="st">"ticker"</span>, ticker), <span class="bu">int</span>(args.get(<span class="st">"limit"</span>, <span class="dv">5</span>)))</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>        answer <span class="op">=</span> final_answer(ticker, action, items)</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>        answer <span class="op">=</span> final_answer(ticker, action)</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(answer)</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>    <span class="co">#run("AAPL")   # should fetch news</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>    run(<span class="st">"TLT"</span>)  <span class="co"># try a non-IT ticker for "none" action</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./chapter3.html" class="pagination-link" aria-label="Prototyping an app with `streamlit`">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Prototyping an app with <code>streamlit</code></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./chapter5.html" class="pagination-link" aria-label="Lab - Business Metrics Practice (optional)">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab - Business Metrics Practice (optional)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>